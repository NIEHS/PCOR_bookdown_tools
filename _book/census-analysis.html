<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Census Analysis | 06-geo-exposure</title>
  <meta name="description" content="<p>This is a example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="generator" content="bookdown 0.34 and GitBook 2.6.7" />

  <meta property="og:title" content="Census Analysis | 06-geo-exposure" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="<p>This is a example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Census Analysis | 06-geo-exposure" />
  
  <meta name="twitter:description" content="<p>This is a example of using the bookdown package to write a book.
The HTML output format for this example is bookdown::gitbook,
set in the _output.yml file.</p>" />
  

<meta name="author" content="S.N." />


<meta name="date" content="2023-07-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="preparing-date.html"/>
<link rel="next" href="exposure-estimates.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Bookdown PCOR Tools</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><strong>Introduction</strong></a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#usage"><i class="fa fa-check"></i>Usage</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="data-dictionary.html"><a href="data-dictionary.html"><i class="fa fa-check"></i><strong>Data Dictionary</strong></a>
<ul>
<li class="chapter" data-level="" data-path="data-dictionary.html"><a href="data-dictionary.html#geoexposures"><i class="fa fa-check"></i>GeoExposures</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="pcor-t-map.html"><a href="pcor-t-map.html"><i class="fa fa-check"></i><strong>PCOR T-map</strong></a>
<ul>
<li class="chapter" data-level="" data-path="pcor-t-map.html"><a href="pcor-t-map.html#pm-2.5-tmap"><i class="fa fa-check"></i>PM 2.5 Tmap</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="major-road-exposure.html"><a href="major-road-exposure.html"><i class="fa fa-check"></i><strong>Major road exposure</strong></a>
<ul>
<li class="chapter" data-level="" data-path="major-road-exposure.html"><a href="major-road-exposure.html#major-road-proximity-metrics"><i class="fa fa-check"></i>Major road proximity metrics</a></li>
<li class="chapter" data-level="" data-path="major-road-exposure.html"><a href="major-road-exposure.html#aircraft-landing-facility-proximity-metrics"><i class="fa fa-check"></i>Aircraft landing facility proximity metrics</a>
<ul>
<li class="chapter" data-level="" data-path="major-road-exposure.html"><a href="major-road-exposure.html#instructions-aircraft-landing-facility-proximity-metrics"><i class="fa fa-check"></i>Instructions: Aircraft landing facility proximity metrics</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="major-road-exposure.html"><a href="major-road-exposure.html#air-pollution-exposure"><i class="fa fa-check"></i>Air pollution exposure</a>
<ul>
<li class="chapter" data-level="" data-path="major-road-exposure.html"><a href="major-road-exposure.html#instructions-air-pollution-exposure-metrics-from-caces-model"><i class="fa fa-check"></i>Instructions: Air pollution exposure metrics from CACES model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="preparing-date.html"><a href="preparing-date.html"><i class="fa fa-check"></i><strong>Preparing Date</strong></a>
<ul>
<li class="chapter" data-level="" data-path="preparing-date.html"><a href="preparing-date.html#pm2.5-vs-patient"><i class="fa fa-check"></i>PM(2.5) vs Patient</a>
<ul>
<li class="chapter" data-level="" data-path="preparing-date.html"><a href="preparing-date.html#data-preparation"><i class="fa fa-check"></i>Data Preparation</a></li>
<li class="chapter" data-level="0.0.1" data-path="preparing-date.html"><a href="preparing-date.html#new-session"><i class="fa fa-check"></i><b>0.0.1</b> Load libraries</a></li>
<li class="chapter" data-level="0.0.2" data-path="preparing-date.html"><a href="preparing-date.html#create-a-geographical-map"><i class="fa fa-check"></i><b>0.0.2</b> Create a Geographical Map</a></li>
<li class="chapter" data-level="0.0.3" data-path="preparing-date.html"><a href="preparing-date.html#plotting-the-data-points"><i class="fa fa-check"></i><b>0.0.3</b> Plotting the Data Points</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="census-analysis.html"><a href="census-analysis.html"><i class="fa fa-check"></i><strong>Census Analysis</strong></a>
<ul>
<li class="chapter" data-level="" data-path="census-analysis.html"><a href="census-analysis.html#census-income-vs-patient"><i class="fa fa-check"></i>Census Income vs Patient</a>
<ul>
<li class="chapter" data-level="0.0.4" data-path="census-analysis.html"><a href="census-analysis.html#data-preparation-1"><i class="fa fa-check"></i><b>0.0.4</b> Data Preparation</a></li>
<li class="chapter" data-level="0.0.5" data-path="census-analysis.html"><a href="census-analysis.html#use-case"><i class="fa fa-check"></i><b>0.0.5</b> use case:</a></li>
<li class="chapter" data-level="0.0.6" data-path="census-analysis.html"><a href="census-analysis.html#join-the-dataframes-by-the-census-track-id"><i class="fa fa-check"></i><b>0.0.6</b> Join the dataframes by the census track id</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="census-analysis.html"><a href="census-analysis.html#the-county-with-hightest-income-in-ma-by-sensus-data-2020"><i class="fa fa-check"></i>The county with hightest income in MA by sensus data 2020</a>
<ul>
<li class="chapter" data-level="0.0.7" data-path="census-analysis.html"><a href="census-analysis.html#install-packages-for-the-plot"><i class="fa fa-check"></i><b>0.0.7</b> install packages for the plot</a></li>
<li class="chapter" data-level="0.0.8" data-path="census-analysis.html"><a href="census-analysis.html#draw-a-map-with-patients-and-income-in-color"><i class="fa fa-check"></i><b>0.0.8</b> Draw a map with patients and income in color</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="exposure-estimates.html"><a href="exposure-estimates.html"><i class="fa fa-check"></i><strong>Exposure Estimates</strong></a>
<ul>
<li class="chapter" data-level="" data-path="exposure-estimates.html"><a href="exposure-estimates.html#bivariate-choropleth-map"><i class="fa fa-check"></i>bivariate choropleth map</a>
<ul>
<li class="chapter" data-level="0.0.9" data-path="exposure-estimates.html"><a href="exposure-estimates.html#make-a-bivariate-choropleth-map-sample"><i class="fa fa-check"></i><b>0.0.9</b> Make a bivariate choropleth map (Sample)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html"><i class="fa fa-check"></i><strong>Analysis</strong></a>
<ul>
<li class="chapter" data-level="" data-path="analysis.html"><a href="analysis.html#bivariate-choropleth-color"><i class="fa fa-check"></i>Bivariate choropleth color</a>
<ul>
<li class="chapter" data-level="0.0.10" data-path="analysis.html"><a href="analysis.html#bivariate-color-classes"><i class="fa fa-check"></i><b>0.0.10</b> Bivariate color classes</a></li>
<li class="chapter" data-level="0.0.11" data-path="analysis.html"><a href="analysis.html#draw-us-cancer-rate-male-vs-female"><i class="fa fa-check"></i><b>0.0.11</b> Draw US cancer rate male vs female</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="bivariate-maps.html"><a href="bivariate-maps.html"><i class="fa fa-check"></i><strong>Bivariate maps</strong></a>
<ul>
<li class="chapter" data-level="" data-path="bivariate-maps.html"><a href="bivariate-maps.html#pm-2.5-bivariate-map"><i class="fa fa-check"></i>PM 2.5 Bivariate map</a>
<ul>
<li class="chapter" data-level="0.0.12" data-path="bivariate-maps.html"><a href="bivariate-maps.html#set-up-bivariate-color-classes"><i class="fa fa-check"></i><b>0.0.12</b> Set up bivariate color classes</a></li>
<li class="chapter" data-level="0.0.13" data-path="bivariate-maps.html"><a href="bivariate-maps.html#get-the-boundaries-for-us-ma-counties"><i class="fa fa-check"></i><b>0.0.13</b> Get the boundaries for US MA counties</a></li>
<li class="chapter" data-level="0.0.14" data-path="bivariate-maps.html"><a href="bivariate-maps.html#join-census-with-massachusetts-map"><i class="fa fa-check"></i><b>0.0.14</b> Join Census with Massachusetts map</a></li>
<li class="chapter" data-level="0.0.15" data-path="bivariate-maps.html"><a href="bivariate-maps.html#set-color-on-both-varaibles"><i class="fa fa-check"></i><b>0.0.15</b> Set color on both varaibles</a></li>
<li class="chapter" data-level="0.0.16" data-path="bivariate-maps.html"><a href="bivariate-maps.html#draw-a-state-map-with-pm-patient"><i class="fa fa-check"></i><b>0.0.16</b> Draw a state map with pm-patient</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">06-geo-exposure</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="census-analysis" class="section level1 unnumbered hasAnchor">
<h1><strong>Census Analysis</strong><a href="census-analysis.html#census-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="census-income-vs-patient" class="section level2 unnumbered hasAnchor">
<h2>Census Income vs Patient<a href="census-analysis.html#census-income-vs-patient" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="data-preparation-1" class="section level3 hasAnchor" number="0.0.4">
<h3><span class="header-section-number">0.0.4</span> Data Preparation<a href="census-analysis.html#data-preparation-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Data set is from Synthetic patient and population health data from the state of Massachusetts</p>
<ol style="list-style-type: decimal">
<li><p>Download complete patients FHIR file from <a href="https://synthea.mitre.org/downloads" class="uri">https://synthea.mitre.org/downloads</a> 22G zip tar</p></li>
<li><p>Developed python <a href="https://github.com/NIEHS/pcor_climate_tools/blob/main/geospatial_analysis/data_wrangling/fhir_dataset.py" title="File github location">fhir_dataset.py</a> to pull the patients information : patientid, lat, lon, birthdate, gender , start_date_time, end_date_time, code, code_display, start_date, end_date Total patients: 1 million patients</p>
<p>sample result: ran synthea_1m_fhir_3_0_May_24/output_12 code =183478001</p>
<p>output file : patient_encounts_bycode_v2_12.csv</p></li>
<li><p>QC dataset. for instance : start date &gt; end date ; misplace birth/death date to hospital stay date<br />
</p></li>
<li><p>Using the start/end date from patients file run DeGauss pm2.5 model <a href="https://degauss.org/pm/" class="uri">https://degauss.org/pm/</a></p>
<p>input file for pm2.5 from step 2 command line:docker run –rm -v $PWD:/tmp ghcr.io/degauss-org/pm:0.2.0 tmp/yourdatafile.csv</p></li>
<li><p>The following columns been added for each row:</p>
<p>pm_pred : predicted PM2.5 (micrograms per cubic meter)</p>
<p>pm_se : standard error for predicted PM2.5</p>
<p>Output file: patient_encounts_bycode_v2_12_pm_0.2.0.csv</p></li>
</ol>
<p>The output file will contain one row per day between start_date and end_date for everyone. Lat(latitude) and lon (longitude) location. This means that the output file will likely contain many more rows than the input file</p>
<ol start="6" style="list-style-type: decimal">
<li><p>Run deGUAUSS census block group : <a href="https://degauss.org/census_block_group/" class="uri">https://degauss.org/census_block_group/</a> Produced a file with additional columns:</p>
<p>• census_block_group_id_2010: identifier for 2010 block group</p>
<p>• census_tract_id_2010: identifier for 2010 tract</p>
<p>• command line:docker run –rm -v $PWD:/tmp ghcr.io/degauss-org/census_block_group:0.5.0 tmp/yourdatafile.csv</p>
<p>Output file: yourdatafile_census_block_group_0.6.0_2010.csv rename to:ms_patient_pm_census_v2.csv</p></li>
</ol>
<p>install packages</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="census-analysis.html#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;shiny&#39;</span>) <span class="sc">||</span> <span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;tidycensus&#39;</span>)  <span class="sc">||</span> <span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;tidyverse&#39;</span>) <span class="sc">||</span> <span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;viridis&#39;</span>)) {</span>
<span id="cb45-2"><a href="census-analysis.html#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&quot;shiny&quot;</span>,<span class="st">&quot;tidycensus&quot;</span>,<span class="st">&quot;tidyverse&quot;</span>,<span class="st">&quot;viridis&quot;</span>))</span>
<span id="cb45-3"><a href="census-analysis.html#cb45-3" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb45-4"><a href="census-analysis.html#cb45-4" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb45-5"><a href="census-analysis.html#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;plotly&#39;</span>)){</span>
<span id="cb45-6"><a href="census-analysis.html#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;plotly&quot;</span>, <span class="at">type =</span> <span class="st">&quot;source&quot;</span>)</span>
<span id="cb45-7"><a href="census-analysis.html#cb45-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="census-analysis.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggplot2&#39;</span>)) {</span>
<span id="cb46-2"><a href="census-analysis.html#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&#39;ggplot2&#39;</span>)</span>
<span id="cb46-3"><a href="census-analysis.html#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&quot;maps&quot;</span>,<span class="st">&quot;ggmap&quot;</span>))</span>
<span id="cb46-4"><a href="census-analysis.html#cb46-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb46-5"><a href="census-analysis.html#cb46-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb46-6"><a href="census-analysis.html#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;maps&#39;</span>) <span class="sc">||</span> <span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggmap&#39;</span>)) {</span>
<span id="cb46-7"><a href="census-analysis.html#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&quot;maps&quot;</span>,<span class="st">&quot;ggmap&quot;</span>))</span>
<span id="cb46-8"><a href="census-analysis.html#cb46-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb46-9"><a href="census-analysis.html#cb46-9" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Note that the echo = FALSE parameter was added to the code chunk to prevent printing of the R code that generated the plot.
### Load libraries</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="census-analysis.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb47-2"><a href="census-analysis.html#cb47-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;./dataset/ms_patient_pm_census_v2.csv&quot;</span>,<span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="census-analysis.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df)</span></code></pre></div>
<pre><code>## [1] 2979   19</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="census-analysis.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df)</span></code></pre></div>
<pre><code>##  [1] &quot;patientid&quot;                  &quot;lat&quot;                       
##  [3] &quot;lon&quot;                        &quot;birthdate&quot;                 
##  [5] &quot;gender&quot;                     &quot;start_date_time&quot;           
##  [7] &quot;end_date_time&quot;              &quot;code&quot;                      
##  [9] &quot;code_display&quot;               &quot;start_date&quot;                
## [11] &quot;end_date&quot;                   &quot;date&quot;                      
## [13] &quot;year&quot;                       &quot;h3&quot;                        
## [15] &quot;h3_3&quot;                       &quot;pm_pred&quot;                   
## [17] &quot;pm_se&quot;                      &quot;census_block_group_id_2010&quot;
## [19] &quot;census_tract_id_2010&quot;</code></pre>
</div>
<div id="use-case" class="section level3 hasAnchor" number="0.0.5">
<h3><span class="header-section-number">0.0.5</span> use case:<a href="census-analysis.html#use-case" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol start="7" style="list-style-type: decimal">
<li><p>Apply census api key at <a href="https://api.census.gov/data/key_signup.html" class="uri">https://api.census.gov/data/key_signup.html</a> and then supply the key to the <code>census_api_key()</code> function to use it throughout your tidycensus session.</p></li>
<li><p>Run r package tidycensus with the api key and the parameters:</p>
<p>• income code = “C17002_001”,“C17002_002”,“C17002_003”,“C17002_004”,</p>
<p>“C17002_005”,“C17002_006”,“C17002_007”, “C17002_008”</p>
<p>• geography = tract • year = 2012 • state = MA • survey = acs5</p></li>
</ol>
<p>Create a character vector named income_code containing eight elements. Each element represents a variable code related to income.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="census-analysis.html#cb52-1" aria-hidden="true" tabindex="-1"></a>income_code <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;C17002_001&quot;</span>,<span class="st">&quot;C17002_002&quot;</span>,<span class="st">&quot;C17002_003&quot;</span>,<span class="st">&quot;C17002_004&quot;</span>,<span class="st">&quot;C17002_005&quot;</span>,<span class="st">&quot;C17002_006&quot;</span>,</span>
<span id="cb52-2"><a href="census-analysis.html#cb52-2" aria-hidden="true" tabindex="-1"></a>                 <span class="st">&quot;C17002_007&quot;</span>, <span class="st">&quot;C17002_008&quot;</span>)</span>
<span id="cb52-3"><a href="census-analysis.html#cb52-3" aria-hidden="true" tabindex="-1"></a>   <span class="co">#Assign the result of the get_acs function to the variable tarr. The function retrieves </span></span>
<span id="cb52-4"><a href="census-analysis.html#cb52-4" aria-hidden="true" tabindex="-1"></a><span class="co">#American Community Survey (ACS) data for the     specified geography (tract), variables </span></span>
<span id="cb52-5"><a href="census-analysis.html#cb52-5" aria-hidden="true" tabindex="-1"></a><span class="co">#(the income_code vector), state (Massachusetts with state code 25), geometry (TRUE to </span></span>
<span id="cb52-6"><a href="census-analysis.html#cb52-6" aria-hidden="true" tabindex="-1"></a><span class="co">#include spatial information), survey (&quot;acs5&quot;), and year (2012).</span></span>
<span id="cb52-7"><a href="census-analysis.html#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="census-analysis.html#cb52-8" aria-hidden="true" tabindex="-1"></a>tarr <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">&quot;tract&quot;</span>, <span class="at">variables =</span> income_code,</span>
<span id="cb52-9"><a href="census-analysis.html#cb52-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">state =</span> <span class="dv">25</span>,  <span class="at">geometry =</span> <span class="cn">FALSE</span>,<span class="at">survey =</span> <span class="st">&quot;acs5&quot;</span>, <span class="at">year =</span> <span class="dv">2012</span>) </span></code></pre></div>
<pre><code>## Getting data from the 2008-2012 5-year ACS</code></pre>
<pre><code>## Warning: • You have not set a Census API key. Users without a key are limited to 500
## queries per day and may experience performance limitations.
## ℹ For best results, get a Census API key at
## http://api.census.gov/data/key_signup.html and then supply the key to the
## `census_api_key()` function to use it throughout your tidycensus session.
## This warning is displayed once per session.</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="census-analysis.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Write the census income data into csv file </span></span>
<span id="cb55-2"><a href="census-analysis.html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co">#modify if (FALSE) to if (TRUE) if you run the first time</span></span>
<span id="cb55-3"><a href="census-analysis.html#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="cn">FALSE</span>) {</span>
<span id="cb55-4"><a href="census-analysis.html#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(tarr,<span class="st">&quot;./dataset/income_MA_mult_incomes.csv&quot;</span>)</span>
<span id="cb55-5"><a href="census-analysis.html#cb55-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<ol start="9" style="list-style-type: decimal">
<li><p>tarr column name : • Id – census track id • geoid, • name, • variable, • estimate, • moe</p></li>
<li><p>Join the patient’s information + degauss pm 2.5 + census block dataset with census income dataset by census track id</p></li>
<li><p>Data join output file : asthma_patients_pm_2_census_block_group_0.6.0_2010.csv</p></li>
</ol>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="census-analysis.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(tarr)</span></code></pre></div>
<pre><code>## [1] 11824     5</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="census-analysis.html#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(tarr)</span></code></pre></div>
<pre><code>## [1] &quot;GEOID&quot;    &quot;NAME&quot;     &quot;variable&quot; &quot;estimate&quot; &quot;moe&quot;</code></pre>
</div>
<div id="join-the-dataframes-by-the-census-track-id" class="section level3 hasAnchor" number="0.0.6">
<h3><span class="header-section-number">0.0.6</span> Join the dataframes by the census track id<a href="census-analysis.html#join-the-dataframes-by-the-census-track-id" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>df column “census_block_group_id_2010” and tarr column “GEOID” are the census track id.</p>
<p>Join these two data frames</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="census-analysis.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb60-2"><a href="census-analysis.html#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="census-analysis.html#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="co">#merged_frame &lt;- df %&gt;%</span></span>
<span id="cb60-4"><a href="census-analysis.html#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="co">#  mutate(census_tract_id_2010 = as.character(census_tract_id_2010)) %&gt;%</span></span>
<span id="cb60-5"><a href="census-analysis.html#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="co">#  inner_join(tarr, by = c(&quot;GEOID&quot; = &quot;census_tract_id_2010&quot;))</span></span>
<span id="cb60-6"><a href="census-analysis.html#cb60-6" aria-hidden="true" tabindex="-1"></a><span class="co">#left join produce the same result as inner_join</span></span>
<span id="cb60-7"><a href="census-analysis.html#cb60-7" aria-hidden="true" tabindex="-1"></a>left_merged_frame <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span></span>
<span id="cb60-8"><a href="census-analysis.html#cb60-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">census_tract_id_2010 =</span> <span class="fu">as.character</span>(census_tract_id_2010)) <span class="sc">%&gt;%</span></span>
<span id="cb60-9"><a href="census-analysis.html#cb60-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(tarr, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;census_tract_id_2010&quot;</span> <span class="ot">=</span> <span class="st">&quot;GEOID&quot;</span> ))</span></code></pre></div>
<pre><code>## Warning in left_join(., tarr, by = c(census_tract_id_2010 = &quot;GEOID&quot;)): Detected an unexpected many-to-many relationship between `x` and
## `y`.
## ℹ Row 1 of `x` matches multiple rows in `y`.
## ℹ Row 11769 of `y` matches multiple rows in `x`.
## ℹ If a many-to-many relationship is expected, set `relationship
##   = &quot;many-to-many&quot;` to silence this warning.</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="census-analysis.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Write the merged frame data into csv file </span></span>
<span id="cb62-2"><a href="census-analysis.html#cb62-2" aria-hidden="true" tabindex="-1"></a><span class="co">#modify if (FALSE) to if (TRUE) if you run the first time</span></span>
<span id="cb62-3"><a href="census-analysis.html#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="cn">FALSE</span>) {</span>
<span id="cb62-4"><a href="census-analysis.html#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(left_merged_frame,<span class="st">&quot;./dataset/merged_income_MA_mult_incomes.csv&quot;</span>)</span>
<span id="cb62-5"><a href="census-analysis.html#cb62-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="census-analysis.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
</div>
</div>
<div id="the-county-with-hightest-income-in-ma-by-sensus-data-2020" class="section level2 unnumbered hasAnchor">
<h2>The county with hightest income in MA by sensus data 2020<a href="census-analysis.html#the-county-with-hightest-income-in-ma-by-sensus-data-2020" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="census-analysis.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Fetch ACS data for Massachusetts counties</span></span>
<span id="cb64-2"><a href="census-analysis.html#cb64-2" aria-hidden="true" tabindex="-1"></a>ma_counties <span class="ot">&lt;-</span> <span class="fu">get_acs</span>(<span class="at">geography =</span> <span class="st">&quot;county&quot;</span>, <span class="at">variables =</span> <span class="st">&quot;B19013_001&quot;</span>, <span class="at">state =</span> <span class="st">&quot;MA&quot;</span>, <span class="at">year =</span> <span class="dv">2020</span>)</span></code></pre></div>
<pre><code>## Getting data from the 2016-2020 5-year ACS</code></pre>
<pre><code>## Using FIPS code &#39;25&#39; for state &#39;MA&#39;</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="census-analysis.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort the data by median household income in descending order</span></span>
<span id="cb67-2"><a href="census-analysis.html#cb67-2" aria-hidden="true" tabindex="-1"></a>ma_counties_sorted <span class="ot">&lt;-</span> ma_counties <span class="sc">%&gt;%</span> </span>
<span id="cb67-3"><a href="census-analysis.html#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(estimate))</span>
<span id="cb67-4"><a href="census-analysis.html#cb67-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-5"><a href="census-analysis.html#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the county with the highest income</span></span>
<span id="cb67-6"><a href="census-analysis.html#cb67-6" aria-hidden="true" tabindex="-1"></a>highest_income_county <span class="ot">&lt;-</span> ma_counties_sorted<span class="sc">$</span>NAME[<span class="dv">1</span>]</span>
<span id="cb67-7"><a href="census-analysis.html#cb67-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-8"><a href="census-analysis.html#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the county with the highest income</span></span>
<span id="cb67-9"><a href="census-analysis.html#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="st">&quot;The county with the highest income in Massachusetts is:&quot;</span>, highest_income_county)</span></code></pre></div>
<pre><code>## The county with the highest income in Massachusetts is: Nantucket County, Massachusetts</code></pre>
<div id="install-packages-for-the-plot" class="section level3 hasAnchor" number="0.0.7">
<h3><span class="header-section-number">0.0.7</span> install packages for the plot<a href="census-analysis.html#install-packages-for-the-plot" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="census-analysis.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;maps&#39;</span>) <span class="sc">||</span> <span class="sc">!</span><span class="fu">require</span>(<span class="st">&#39;ggmap&#39;</span>)) {</span>
<span id="cb69-2"><a href="census-analysis.html#cb69-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&quot;maps&quot;</span>,<span class="st">&quot;ggmap&quot;</span>))</span>
<span id="cb69-3"><a href="census-analysis.html#cb69-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(maps)</span>
<span id="cb69-4"><a href="census-analysis.html#cb69-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">library</span>(ggmap)</span>
<span id="cb69-5"><a href="census-analysis.html#cb69-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb69-6"><a href="census-analysis.html#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span></code></pre></div>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="census-analysis.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(left_merged_frame)</span></code></pre></div>
<pre><code>##  [1] &quot;patientid&quot;                  &quot;lat&quot;                       
##  [3] &quot;lon&quot;                        &quot;birthdate&quot;                 
##  [5] &quot;gender&quot;                     &quot;start_date_time&quot;           
##  [7] &quot;end_date_time&quot;              &quot;code&quot;                      
##  [9] &quot;code_display&quot;               &quot;start_date&quot;                
## [11] &quot;end_date&quot;                   &quot;date&quot;                      
## [13] &quot;year&quot;                       &quot;h3&quot;                        
## [15] &quot;h3_3&quot;                       &quot;pm_pred&quot;                   
## [17] &quot;pm_se&quot;                      &quot;census_block_group_id_2010&quot;
## [19] &quot;census_tract_id_2010&quot;       &quot;NAME&quot;                      
## [21] &quot;variable&quot;                   &quot;estimate&quot;                  
## [23] &quot;moe&quot;</code></pre>
</div>
<div id="draw-a-map-with-patients-and-income-in-color" class="section level3 hasAnchor" number="0.0.8">
<h3><span class="header-section-number">0.0.8</span> Draw a map with patients and income in color<a href="census-analysis.html#draw-a-map-with-patients-and-income-in-color" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="census-analysis.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw Massachusetts map </span></span>
<span id="cb72-2"><a href="census-analysis.html#cb72-2" aria-hidden="true" tabindex="-1"></a>ma_map <span class="ot">&lt;-</span> <span class="fu">map_data</span>(<span class="st">&quot;state&quot;</span>, <span class="at">region =</span> <span class="st">&quot;massachusetts&quot;</span>)</span>
<span id="cb72-3"><a href="census-analysis.html#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="co">#modify column&#39;s name</span></span>
<span id="cb72-4"><a href="census-analysis.html#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(left_merged_frame)[<span class="fu">which</span>(<span class="fu">names</span>(left_merged_frame) <span class="sc">==</span> <span class="st">&quot;lon&quot;</span>)] <span class="ot">&lt;-</span> <span class="st">&quot;longitude&quot;</span></span>
<span id="cb72-5"><a href="census-analysis.html#cb72-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(left_merged_frame)[<span class="fu">which</span>(<span class="fu">names</span>(left_merged_frame) <span class="sc">==</span><span class="st">&quot;lat&quot;</span>)] <span class="ot">&lt;-</span> <span class="st">&quot;latitude&quot;</span></span>
<span id="cb72-6"><a href="census-analysis.html#cb72-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-7"><a href="census-analysis.html#cb72-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Optional Filter the rows based on the date range Use the subset() function to</span></span>
<span id="cb72-8"><a href="census-analysis.html#cb72-8" aria-hidden="true" tabindex="-1"></a><span class="co">#filter the rows based on the date range:2012 -2017to match 5 year sensus data</span></span>
<span id="cb72-9"><a href="census-analysis.html#cb72-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-10"><a href="census-analysis.html#cb72-10" aria-hidden="true" tabindex="-1"></a>filtered_df <span class="ot">&lt;-</span> <span class="fu">subset</span>(left_merged_frame, date <span class="sc">&gt;=</span> <span class="fu">as.Date</span>(<span class="st">&quot;2012-09-01&quot;</span>) <span class="sc">&amp;</span> date <span class="sc">&lt;=</span> <span class="fu">as.Date</span>(<span class="st">&quot;2017-09-01&quot;</span>))</span>
<span id="cb72-11"><a href="census-analysis.html#cb72-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-12"><a href="census-analysis.html#cb72-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a base plot for Massachusetts</span></span>
<span id="cb72-13"><a href="census-analysis.html#cb72-13" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fu">ggplot</span>() <span class="sc">+</span></span>
<span id="cb72-14"><a href="census-analysis.html#cb72-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_polygon</span>(<span class="at">data =</span> ma_map, <span class="fu">aes</span>(<span class="at">x =</span> long, <span class="at">y =</span> lat, <span class="at">group =</span> group),</span>
<span id="cb72-15"><a href="census-analysis.html#cb72-15" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> <span class="st">&quot;lightgray&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb72-16"><a href="census-analysis.html#cb72-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Plot the data points</span></span>
<span id="cb72-17"><a href="census-analysis.html#cb72-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">data =</span> filtered_df, <span class="fu">aes</span>(<span class="at">x =</span> longitude, <span class="at">y =</span> latitude, <span class="at">color =</span> estimate), <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb72-18"><a href="census-analysis.html#cb72-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Income vs patient Map&quot;</span>, <span class="at">x =</span> <span class="st">&quot;Longitude&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Latitude&quot;</span>) <span class="sc">+</span></span>
<span id="cb72-19"><a href="census-analysis.html#cb72-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_gradient</span>(<span class="at">low =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">high =</span> <span class="st">&quot;red&quot;</span>, <span class="at">name =</span> <span class="st">&quot;estimate&quot;</span>) <span class="sc">+</span></span>
<span id="cb72-20"><a href="census-analysis.html#cb72-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb72-21"><a href="census-analysis.html#cb72-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Adjust the map boundaries to focus on Massachusetts</span></span>
<span id="cb72-22"><a href="census-analysis.html#cb72-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_cartesian</span>(<span class="at">xlim =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">73.5</span>, <span class="sc">-</span><span class="fl">69.9</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="fl">41.2</span>, <span class="fl">42.9</span>))</span>
<span id="cb72-23"><a href="census-analysis.html#cb72-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-24"><a href="census-analysis.html#cb72-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the map</span></span>
<span id="cb72-25"><a href="census-analysis.html#cb72-25" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(p)</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="preparing-date.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exposure-estimates.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/02-census-income.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
